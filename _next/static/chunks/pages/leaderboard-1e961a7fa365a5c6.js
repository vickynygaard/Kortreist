(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[861],{917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var l=r(7876),s=r(2948),a=r(6733),c=r(2694);function n(){return(0,l.jsxs)("div",{className:"flex flex-col  w-full",children:[(0,l.jsx)("div",{className:"w-full text-center text-2xl font-medium pb-4",children:(0,l.jsx)("h1",{children:"Ledertavle"})}),(0,l.jsx)(a.A,{}),(0,l.jsx)(s.A,{}),(0,l.jsx)(c.A,{})]})}},2948:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var l=r(7876),s=r(4232);let a=e=>{let{nickName:t,score:r,rank:s,profilePicture:a}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-end w-24 relative",children:[(0,l.jsx)("div",{className:"relative -mb-6 z-10",children:(0,l.jsx)("img",{src:"".concat("/Kortreist","/images/profile-pictures/").concat(a||"avatar1.png"),alt:t,className:"w-16 h-16 rounded-full border-4 ".concat({1:"border-yellow-400",2:"border-gray-300",3:"border-amber-600"}[s]," object-cover bg-white")})}),(0,l.jsxs)("div",{className:"w-full flex flex-col items-center justify-end ".concat({1:"h-32",2:"h-24",3:"h-20"}[s]," bg-violet-900 text-white rounded-t-2xl pt-8 pb-2"),children:[(0,l.jsx)("span",{className:"text-xl font-bold",children:s}),(0,l.jsx)("span",{className:"text-base",children:r})]}),(0,l.jsx)("div",{className:"mt-2 h-8 w-full px-1 text-center",children:(0,l.jsx)("span",{className:"text-base font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-400 to-violet-600 line-clamp-2 leading-tight break-words",children:t})})]})},c=e=>{let{nickName:t,score:r,rank:s,profilePicture:a}=e;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 px-8 gap-4 border-b border-gray-500 last:border-b-0",children:[(0,l.jsx)("span",{className:"font-bold w-6 text-center",children:s}),(0,l.jsxs)("div",{className:"flex items-center gap-4 flex-grow",children:[(0,l.jsx)("img",{src:"".concat("/Kortreist","/images/profile-pictures/").concat(a||"avatar1.png"),alt:t,className:"w-10 h-10 rounded-full border-2 border-customViolet object-cover"}),(0,l.jsx)("span",{className:"truncate w-32",children:t})]}),(0,l.jsx)("span",{className:"font-semibold text-customViolet",children:r})]})};var n=r(300);let o=()=>{let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)([]),[i,d]=(0,s.useState)([]),{userData:u,loading:x,error:f}=(0,n.r)();(0,s.useEffect)(()=>{(null==u?void 0:u.accessToken)&&(async()=>{let e=[];try{let r=await fetch("https://bouvetapi-frbah7fhh5cjdpfy.swedencentral-01.azurewebsites.net/api/users/all",{headers:{Authorization:"Bearer ".concat(u.accessToken)}});if(!r.ok)throw Error("Error fetching users: ".concat(r.statusText));let l=await r.json();console.log(l);let s=[...l].sort((e,t)=>t.totalScore-e.totalScore),a=1;for(let t=0;t<s.length&&e.length<3;t++)t>0&&s[t].totalScore===s[t-1].totalScore?e.push({...s[t],rank:e[e.length-1].rank}):e.push({...s[t],rank:a}),a++;t(e),o(s.slice(e.length)),d(l),console.log(l)}catch(e){console.error("Failed to fetch users:",e)}})()},[null==u?void 0:u.accessToken]);let m=t=>{let r=e.find(e=>e.rank===t);return r?(0,l.jsx)(a,{...r,score:r.totalScore,profilePicture:r.profilePicture}):null};return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsxs)("div",{className:"flex justify-center items-end gap-6 mt-10",children:[m(2),m(1),m(3)]}),(0,l.jsx)("div",{className:"mt-4 w-full rounded-t-lg bg-customYellow2/50 backdrop-blur-md",children:r.map((t,r)=>(0,l.jsx)(c,{rank:r+e.length+1,nickName:t.nickName,score:t.totalScore,profilePicture:t.profilePicture},t.userId))})]})}},4513:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboard",function(){return r(917)}])},6733:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var l=r(7876),s=r(9099),a=r(8230),c=r.n(a);let n=e=>{let{href:t,title:r}=e,a=(0,s.useRouter)().pathname===t;return(0,l.jsxs)(c(),{href:t,className:"relative flex flex-col items-center justify-center w-1/3 text-center",children:[a&&(0,l.jsx)("span",{className:"absolute bottom-[-16px] left-1/2 w-full transform -translate-x-1/2 border-b-2 border-violet-900 z-0 transition-all duration-300"}),(0,l.jsx)("span",{className:"".concat(a?"text-violet-900":"text-gray-700"),children:r})]})},o=()=>(0,l.jsx)("nav",{className:"flex w-full justify-center p-4 font-medium",children:(0,l.jsxs)("div",{className:"flex w-full max-w-md justify-between",children:[(0,l.jsx)(n,{href:"/leaderboard",title:"Solo"}),(0,l.jsx)(n,{href:"/leaderboard/team",title:"Lag"}),(0,l.jsx)(n,{href:"/leaderboard/company",title:"Bedrift"})]})})}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(4513)),_N_E=e.O()}]);