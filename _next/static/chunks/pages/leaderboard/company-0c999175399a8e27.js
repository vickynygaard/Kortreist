(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{3784:(e,t,a)=>{"use strict";a.d(t,{g:()=>o});var n=a(7596),l=a(9099),s=a.n(l),r=a(7685);async function i(e,t){let a={"Content-Type":"application/json"};t&&(a.Authorization="Bearer ".concat(t));let n=await fetch("".concat("https://bouvetapi-frbah7fhh5cjdpfy.swedencentral-01.azurewebsites.net").concat(e),{headers:a});if(!n.ok){if(428===n.status){r.Ay.error("Du m\xe5 fullf\xf8re registreringen f\xf8r du kan fortsette."),s().push("/onboarding");return}let e=await n.text();throw Error("Error: ".concat(n.statusText," - ").concat(e))}return n.json()}function o(e,t,a){var l;let s=(null===(l=null==a?void 0:a.enabled)||void 0===l||l)&&e&&t?[e,t]:null,{data:r,error:o,mutate:c}=(0,n.Ay)(s,()=>i(e,t),a);return{data:r,isLoading:!r&&!o,error:o,mutate:c}}},4996:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboard/company",function(){return a(5992)}])},5992:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var n=a(7876),l=a(3784),s=a(300),r=a(6733),i=a(7644),o=a(4463),c=a(9625),d=a(4232);let m=()=>{var e;let t;let{userData:a}=(0,s.r)();{let e=localStorage.getItem("companyBarChartData");if(e)try{t=JSON.parse(e)}catch(e){console.error("Error parsing cached CompanyBarChartData:",e)}}let{data:m,isLoading:u,error:f}=(0,l.g)("/api/team/companyScores",null==a?void 0:a.accessToken,{fallbackData:t,refreshInterval:3e4,revalidateOnMount:!0,enabled:!!(null==a?void 0:a.accessToken)});if((0,d.useEffect)(()=>{m&&localStorage.setItem("companyBarChartData",JSON.stringify(m))},[m]),f)return(0,n.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,n.jsx)("p",{children:"Her skjedde det noe galt, pr\xf8v \xe5 laste inn p\xe5 nytt"})});if(u)return(0,n.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,n.jsx)(i.A,{})});if(!m||0===m.length)return null;let x=[...m].sort((e,t)=>t.totalPoints-e.totalPoints).slice(0,2),h=(null===(e=x[0])||void 0===e?void 0:e.totalPoints)||1,p=["bg-gradient-to-t from-yellow-300 to-yellow-500","bg-gradient-to-t from-purple-400 to-purple-700"];return(0,n.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,n.jsx)("div",{className:"font-bold text-3xl text-violet-950 pb-6",children:"Ledertavle"}),(0,n.jsx)(r.A,{}),(0,n.jsx)("div",{className:"relative mt-14 w-full max-w-sm h-[400px] mx-auto",children:(0,n.jsx)("div",{className:"absolute inset-x-0 bottom-0 flex justify-center gap-10 items-end",children:x.map((e,t)=>{var a,l;let s=e.totalPoints/h*300,r="".concat("/Kortreist","/images/company-pictures/").concat({"Hennig-Olsen Is":"companyA.png","Glencore Nikkelverk AS":"companyB.png"}[e.name]||"default.png");return(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsxs)("div",{className:"relative mb-2 flex items-center justify-center",children:[0===t&&(0,n.jsx)(o.A,{size:25,className:"absolute z-50 left-1/2 -translate-x-1/2 text-yellow-500 drop-shadow ".concat(null!==(a=({"Hennig-Olsen Is":"-top-11","Glencore Nikkelverk AS":"-top-6"})[e.name])&&void 0!==a?a:"")}),(0,n.jsx)("img",{src:r,alt:"".concat(e.name," logo"),className:"w-10 h-10 object-contain ".concat(null!==(l=({"Hennig-Olsen Is":"scale-[1.5] translate-y-[-0.4rem]","Glencore Nikkelverk AS":"scale-[3]"})[e.name])&&void 0!==l?l:"")})]}),(0,n.jsx)(c.P.div,{className:"rounded-t-xl w-24 shadow-md transition-all duration-700 ".concat(p[t]),initial:{height:0},animate:{height:s},transition:{duration:.05,ease:"easeOut"},style:{minHeight:"3rem"}}),(0,n.jsxs)("div",{className:"text-center mt-2",children:[(0,n.jsx)("p",{className:"font-semibold text-sm text-violet-900",children:e.name}),(0,n.jsxs)("p",{className:"text-xs text-gray-600",children:[e.totalPoints.toLocaleString()," poeng"]})]})]},e.companyId)})})})]})}},6733:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(7876),l=a(9099),s=a(8230),r=a.n(s);let i=e=>{let{href:t,title:a}=e,s=(0,l.useRouter)().pathname===t;return(0,n.jsxs)(r(),{href:t,className:"relative flex flex-col items-center justify-center w-1/3 text-center",children:[s&&(0,n.jsx)("span",{className:"absolute bottom-[-16px] left-1/2 w-full transform -translate-x-1/2 border-b-2 border-violet-900 z-0 transition-all duration-300"}),(0,n.jsx)("span",{className:"".concat(s?"text-violet-900":"text-gray-700"),children:a})]})},o=()=>(0,n.jsx)("nav",{className:"flex w-full justify-center p-4 font-medium",children:(0,n.jsxs)("div",{className:"flex w-full max-w-md justify-between",children:[(0,n.jsx)(i,{href:"/leaderboard",title:"Solo"}),(0,n.jsx)(i,{href:"/leaderboard/team",title:"Lag"}),(0,n.jsx)(i,{href:"/leaderboard/company",title:"Bedrift"})]})})},7644:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(7876);function l(){return(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-customViolet"})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[596,971,636,593,792],()=>t(4996)),_N_E=e.O()}]);