(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[917],{3784:(e,t,a)=>{"use strict";a.d(t,{g:()=>o});var l=a(7596),n=a(9099),r=a.n(n),s=a(7685);async function i(e,t){let a={"Content-Type":"application/json"};t&&(a.Authorization="Bearer ".concat(t));let l=await fetch("".concat("https://bouvetapi-frbah7fhh5cjdpfy.swedencentral-01.azurewebsites.net").concat(e),{headers:a});if(!l.ok){if(428===l.status){s.Ay.error("Du m\xe5 fullf\xf8re registreringen f\xf8r du kan fortsette."),r().push("/onboarding");return}let e=await l.text();throw Error("Error: ".concat(l.statusText," - ").concat(e))}return l.json()}function o(e,t,a){var n;let r=(null===(n=null==a?void 0:a.enabled)||void 0===n||n)&&e&&t?[e,t]:null,{data:s,error:o,mutate:c}=(0,l.Ay)(r,()=>i(e,t),a);return{data:s,isLoading:!s&&!o,error:o,mutate:c}}},4996:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/leaderboard/company",function(){return a(5992)}])},5992:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(7876),n=a(3784),r=a(300),s=a(6733),i=a(7644),o=a(4463),c=a(9625),d=a(4232);let m=()=>{var e;let t;let{userData:a}=(0,r.r)();{let e=localStorage.getItem("companyBarChartData");if(e)try{t=JSON.parse(e)}catch(e){console.error("Error parsing cached CompanyBarChartData:",e)}}let{data:m,isLoading:u,error:f}=(0,n.g)("/api/team/companyScores",null==a?void 0:a.accessToken,{fallbackData:t,refreshInterval:3e4,revalidateOnMount:!0,enabled:!!(null==a?void 0:a.accessToken)});if((0,d.useEffect)(()=>{m&&localStorage.setItem("companyBarChartData",JSON.stringify(m))},[m]),f)return(0,l.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,l.jsx)("p",{children:"Her skjedde det noe galt, pr\xf8v \xe5 laste inn p\xe5 nytt"})});if(u)return(0,l.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,l.jsx)(i.A,{})});if(!m||0===m.length)return null;let x=[...m].sort((e,t)=>t.totalPoints-e.totalPoints).slice(0,2),h=(null===(e=x[0])||void 0===e?void 0:e.totalPoints)||1,p=["bg-gradient-to-t from-yellow-300 to-yellow-500","bg-gradient-to-t from-purple-400 to-purple-700"];return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,l.jsx)("div",{className:"font-bold text-3xl text-violet-950 pb-6",children:"Ledertavle"}),(0,l.jsx)(s.A,{}),(0,l.jsx)("div",{className:"relative mt-14 w-full max-w-sm h-[400px] mx-auto",children:(0,l.jsx)("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 flex gap-20 items-end",children:x.map((e,t)=>{var a,n;let r=e.totalPoints/h*300,s="".concat("/Kortreist","/images/company-pictures/").concat({"Hennig-Olsen Is":"companyA.png","Glencore Nikkelverk AS":"companyB.png"}[e.name]||"default.png");return(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsxs)("div",{className:"relative mb-2 flex items-center justify-center",children:[0===t&&(0,l.jsx)(o.A,{size:25,className:"absolute z-50 left-1/2 -translate-x-1/2 text-yellow-500 drop-shadow ".concat(null!==(a=({"Hennig-Olsen Is":"-top-11","Glencore Nikkelverk AS":"-top-6"})[e.name])&&void 0!==a?a:"")}),(0,l.jsx)("img",{src:s,alt:"".concat(e.name," logo"),className:"w-10 h-10 object-contain ".concat(null!==(n=({"Hennig-Olsen Is":"scale-[1.5] translate-y-[-0.4rem]","Glencore Nikkelverk AS":"scale-[3]"})[e.name])&&void 0!==n?n:"")})]}),(0,l.jsx)(c.P.div,{className:"rounded-t-xl w-24 shadow-md transition-all duration-700 ".concat(p[t]),initial:{height:0},animate:{height:r},transition:{duration:.05,ease:"easeOut"},style:{minHeight:"3rem"}}),(0,l.jsxs)("div",{className:"text-center mt-2",children:[(0,l.jsx)("p",{className:"font-semibold text-sm text-violet-900",children:e.name}),(0,l.jsxs)("p",{className:"text-xs text-gray-600",children:[e.totalPoints.toLocaleString()," poeng"]})]})]},e.companyId)})})})]})}},6733:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var l=a(7876),n=a(9099),r=a(8230),s=a.n(r);let i=e=>{let{href:t,title:a}=e,r=(0,n.useRouter)().pathname===t;return(0,l.jsxs)(s(),{href:t,className:"relative flex flex-col items-center justify-center w-1/3 text-center",children:[r&&(0,l.jsx)("span",{className:"absolute bottom-[-16px] left-1/2 w-full transform -translate-x-1/2 border-b-2 border-violet-900 z-0 transition-all duration-300"}),(0,l.jsx)("span",{className:"".concat(r?"text-violet-900":"text-gray-700"),children:a})]})},o=()=>(0,l.jsx)("nav",{className:"flex w-full justify-center p-4 font-medium",children:(0,l.jsxs)("div",{className:"flex w-full max-w-md justify-between",children:[(0,l.jsx)(i,{href:"/leaderboard",title:"Solo"}),(0,l.jsx)(i,{href:"/leaderboard/team",title:"Lag"}),(0,l.jsx)(i,{href:"/leaderboard/company",title:"Bedrift"})]})})},7644:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(7876);function n(){return(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-customViolet"})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[596,971,636,593,792],()=>t(4996)),_N_E=e.O()}]);