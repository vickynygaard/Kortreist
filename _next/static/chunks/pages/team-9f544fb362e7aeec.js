(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[819],{300:(e,a,t)=>{"use strict";t.d(a,{r:()=>s});var n=t(4232),i=t(5051),c=t(4723),r=t(7526);let s=()=>{let{instance:e,accounts:a}=(0,i.dk)(),[t,s]=(0,n.useState)(null),[l,o]=(0,n.useState)(!0),[u,d]=(0,n.useState)(null),m=async a=>{try{var t;let n=await e.acquireTokenSilent({scopes:c.$.scopes,account:a}),i=n.idTokenClaims,r={email:(null===(t=i.emails)||void 0===t?void 0:t[0])||i.email||i.preferred_username||"",name:i.name||"".concat(i.given_name||""," ").concat(i.family_name||"").trim()||"Unknown User",idTokenClaims:i,idToken:n.idToken,accessToken:n.accessToken};s(r)}catch(a){if(a instanceof r.CB)try{await e.loginRedirect(c.$)}catch(e){d("Login required: "+e)}else d("Failed to acquire token: "+a)}};return(0,n.useEffect)(()=>{(async()=>{try{let t;await e.initialize(),await e.handleRedirectPromise()?t=e.getAllAccounts()[0]:a.length>0&&(t=a[0]),t&&await m(t)}catch(e){d("MSAL initialization error: "+e)}finally{o(!1)}})()},[e]),{userData:t,loading:l,error:u}}},1929:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});var n=t(4232),i=t(9099),c=t(300);function r(){let e=(0,i.useRouter)(),{userData:a}=(0,c.r)(),[t,r]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(null==a?void 0:a.accessToken)&&(async()=>{try{(await fetch("https://bouvetapi-frbah7fhh5cjdpfy.swedencentral-01.azurewebsites.net/api/team/myteam",{headers:{Authorization:"Bearer ".concat(a.accessToken)}})).ok?e.replace("/team/dashboard"):e.replace("/team/onboarding")}catch(a){console.error("Feil ved henting av lag:",a),e.replace("/team/onboarding")}finally{r(!1)}})()},[null==a?void 0:a.accessToken,e]),null}},6689:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/team",function(){return t(1929)}])}},e=>{var a=a=>e(e.s=a);e.O(0,[636,593,792],()=>a(6689)),_N_E=e.O()}]);